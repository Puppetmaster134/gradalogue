{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport fetch from 'isomorphic-unfetch';\nexport default (async (req, res) => {\n  const {\n    body,\n    method\n  } = req;\n\n  switch (method) {\n    case 'POST':\n      let apiResponse = await fetch(`http://gradz.jsullivan.cc:8890/query`, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify(body)\n      });\n      const responseBody = await apiResponse.json();\n      let searchResults = responseBody.apps;\n      res.status(200).json({\n        searchResults\n      });\n      break;\n\n    default:\n      res.setHeader('Allow', ['POST']);\n      res.status(405).end(`Method ${method} Not Allowed`);\n  }\n});","map":{"version":3,"sources":["C:\\Users\\Brian\\Documents\\Projects\\GradSite\\gradalogue\\pages\\api\\search.js"],"names":["fetch","req","res","body","method","apiResponse","headers","responseBody","json","searchResults","apps","status","setHeader","end"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAM;AACJC,IAAAA,IADI;AAEJC,IAAAA;AAFI,MAGFH,GAHJ;;AAKA,UAAQG,MAAR;AACE,SAAK,MAAL;AACE,UAAIC,WAAW,GAAG,MAAML,KAAK,CAAE,sCAAF,EAAyC;AAClEI,QAAAA,MAAM,EAAE,MAD0D;AAElEE,QAAAA,OAAO,EAAE;AACL,oBAAU,kBADL;AAEL,0BAAgB;AAFX,SAFyD;AAMlEH,QAAAA,IAAI,EAAE,gBAAeA,IAAf;AAN4D,OAAzC,CAA7B;AASA,YAAMI,YAAY,GAAG,MAAMF,WAAW,CAACG,IAAZ,EAA3B;AACA,UAAIC,aAAa,GAAGF,YAAY,CAACG,IAAjC;AAEAR,MAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqB;AAAEC,QAAAA;AAAF,OAArB;AACA;;AACF;AACEP,MAAAA,GAAG,CAACU,SAAJ,CAAc,OAAd,EAAuB,CAAC,MAAD,CAAvB;AACAV,MAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBE,GAAhB,CAAqB,UAAST,MAAO,cAArC;AAlBJ;AAoBD,CA1BD","sourcesContent":["import fetch from 'isomorphic-unfetch';\r\n\r\nexport default async (req, res) => {\r\n  const {\r\n    body,\r\n    method\r\n  } = req\r\n\r\n  switch (method) {\r\n    case 'POST':\r\n      let apiResponse = await fetch(`http://gradz.jsullivan.cc:8890/query`, {\r\n          method: 'POST',\r\n          headers: {\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(body)\r\n      });\r\n\r\n      const responseBody = await apiResponse.json();\r\n      let searchResults = responseBody.apps;\r\n      \r\n      res.status(200).json({ searchResults })\r\n      break\r\n    default:\r\n      res.setHeader('Allow', ['POST'])\r\n      res.status(405).end(`Method ${method} Not Allowed`)\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}